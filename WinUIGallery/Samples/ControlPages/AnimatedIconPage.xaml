<Page
    x:Class="WinUIGallery.ControlPages.AnimatedIconPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:animatedvisuals="using:Microsoft.UI.Xaml.Controls.AnimatedVisuals"
    xmlns:controlPages="using:WinUIGallery.ControlPages"
    xmlns:controls="using:WinUIGallery.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">
    <StackPanel>
        <controls:ControlExample
            x:Name="AnimatedIconExample1"
            CSharpSource="Icons/AnimatedIconSample1_cs.txt"
            HeaderText="Adding AnimatedIcon to a button"
            XamlSource="Icons/AnimatedIconSample1_xaml.txt">
            <controls:ControlExample.Example>
                <StackPanel>
                    <TextBlock TextWrapping="WrapWholeWords">
                        The following example is a button that the user clicks to load a search experience. The AnimatedIcon consumes the animation created using
                        Adobe AfterEffects and translated into Microsoft.UI.Composition objects using <Hyperlink NavigateUri="https://aka.ms/lottie">
                            Lottie-Windows
                        </Hyperlink>
                        .
                        For guidance on how to properly structure your animation file see the AnimatedIcon Guidance page.
                        Warning: <Hyperlink NavigateUri="https://github.com/microsoft/microsoft-ui-xaml/issues/10243">
                            AnimatedChevronRightDownSmallVisualSource and AnimatedChevronUpDownSmallVisualSource don't work properly
                        </Hyperlink>.<LineBreak />
                    </TextBlock>
                    <Button
                        Width="75"
                        AutomationProperties.Name="AnimatedIcon Example"
                        PointerEntered="Button_PointerEntered"
                        PointerExited="Button_PointerExited">
                        <AnimatedIcon x:Name="SearchAnimatedIcon" Source="{x:Bind controlPages:AnimatedIconPage.GetAnimationSourceFromString(AnimatedVisualSourceSelection.SelectedItem), Mode=OneWay}">
                            <AnimatedIcon.FallbackIconSource>
                                <SymbolIconSource Symbol="Find" />
                            </AnimatedIcon.FallbackIconSource>
                        </AnimatedIcon>
                    </Button>
                </StackPanel>
            </controls:ControlExample.Example>
            <controls:ControlExample.Options>
                <ComboBox
                    x:Name="AnimatedVisualSourceSelection"
                    MinWidth="340"
                    VerticalAlignment="Center"
                    Header="Kind"
                    SelectedIndex="4">
                    <x:String>AnimatedBackVisualSource</x:String>
                    <x:String>AnimatedChevronDownSmallVisualSource</x:String>
                    <x:String>AnimatedChevronRightDownSmallVisualSource</x:String>
                    <x:String>AnimatedChevronUpDownSmallVisualSource</x:String>
                    <x:String>AnimatedFindVisualSource</x:String>
                    <x:String>AnimatedGlobalNavigationButtonVisualSource</x:String>
                    <x:String>AnimatedSettingsVisualSource</x:String>
                </ComboBox>
            </controls:ControlExample.Options>
            <controls:ControlExample.Substitutions>
                <controls:ControlExampleSubstitution Key="AnimatedVisualSourceKind" Value="{x:Bind AnimatedVisualSourceSelection.SelectedItem, Mode=OneWay}" />
            </controls:ControlExample.Substitutions>
        </controls:ControlExample>
        <controls:ControlExample
            x:Name="AnimatedIconExample2"
            HeaderText="Adding AnimatedIcon to a NavigationView"
            XamlSource="Icons/AnimatedIconSample2_xaml.txt">
            <controls:ControlExample.Example>
                <StackPanel>
                    <TextBlock TextWrapping="WrapWholeWords">
                        If you set an AnimatedIcon as the value of the Icon property, the NavigationViewItem will set the states of the AnimatedIcon for you, according to the states of the control. For guidance on how to properly structure your animation file see the AnimatedIcon Guidance page.<LineBreak /><LineBreak />
                        For this example, this sets a custom animation GameSettingsIcon that was generated by the LottieGen tool.<LineBreak /><LineBreak />
                    </TextBlock>
                    <NavigationView IsSettingsVisible="False">
                        <NavigationView.MenuItems>
                            <NavigationViewItem Content="Game Settings">
                                <NavigationViewItem.Icon>
                                    <AnimatedIcon x:Name="GameSettingsIcon">
                                        <AnimatedIcon.Source>
                                            <animatedvisuals:AnimatedSettingsVisualSource />
                                        </AnimatedIcon.Source>
                                        <AnimatedIcon.FallbackIconSource>
                                            <FontIconSource Glyph="&#xE713;" />
                                        </AnimatedIcon.FallbackIconSource>
                                    </AnimatedIcon>
                                </NavigationViewItem.Icon>
                            </NavigationViewItem>
                        </NavigationView.MenuItems>
                    </NavigationView>
                </StackPanel>
            </controls:ControlExample.Example>
        </controls:ControlExample>
    </StackPanel>
</Page>
