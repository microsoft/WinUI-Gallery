<!--
    //*********************************************************
    //
    // Copyright (c) Microsoft. All rights reserved.
    // THIS CODE IS PROVIDED *AS IS* WITHOUT WARRANTY OF
    // ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING ANY
    // IMPLIED WARRANTIES OF FITNESS FOR A PARTICULAR
    // PURPOSE, MERCHANTABILITY, OR NON-INFRINGEMENT.
    //
    //*********************************************************
-->

<Page
    x:Class="WinUIGallery.ControlPages.TitleBarPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:WinUIGallery.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:wuxdata="using:Microsoft.UI.Xaml.Data"
    mc:Ignorable="d">
    <StackPanel Margin="0,12,0,0">
        <RichTextBlock>
            <Paragraph>
                <Run>For full title bar customization without using the TitleBar control, see the</Run>
                <Hyperlink NavigateUri="https://learn.microsoft.com/windows/apps/develop/title-bar#full-customization">documentation</Hyperlink><Run>.</Run>
            </Paragraph>
        </RichTextBlock>

        <controls:ControlExample HorizontalContentAlignment="Stretch" HeaderText="TitleBar configuration">
            <controls:ControlExample.Example>
                <Grid
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Center"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource SurfaceStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="{StaticResource OverlayCornerRadius}">
                    <TitleBar
                        x:Name="TitleBarControl"
                        Title="{Binding ElementName=TitleBox, Path=Text, Mode=OneWay}"
                        IsBackButtonVisible="{Binding ElementName=BackButtonToggle, Path=IsOn, Mode=OneWay}"
                        IsPaneToggleButtonVisible="{Binding ElementName=PaneToggle, Path=IsOn, Mode=OneWay}"
                        Subtitle="{Binding ElementName=SubtitleBox, Path=Text, Mode=OneWay}"
                        LayoutUpdated="TitleBar_LayoutUpdated">
                        <!--  This is a workaround for https://github.com/microsoft/microsoft-ui-xaml/issues/10374, once fixed we should just be using IconSource  -->
                        <TitleBar.LeftHeader>
                            <ImageIcon
                                Height="16"
                                Margin="16,0,8,0"
                                Source="/Assets/Tiles/GalleryIcon.ico" />
                        </TitleBar.LeftHeader>
                        <TitleBar.RightHeader>
                            <PersonPicture
                                Width="30"
                                Height="30"
                                Initials="JD" />
                        </TitleBar.RightHeader>
                        <TitleBar.Content>
                            <AutoSuggestBox
                                Width="360"
                                VerticalAlignment="Center"
                                PlaceholderText="Search.."
                                QueryIcon="Find" />
                        </TitleBar.Content>
                    </TitleBar>
                </Grid>

            </controls:ControlExample.Example>
            <controls:ControlExample.Options>
                <StackPanel
                    Width="240"
                    Orientation="Vertical"
                    Spacing="12">
                    <TextBox
                        x:Name="TitleBox"
                        Header="Title"
                        Text="WinUI Gallery" />
                    <TextBox
                        x:Name="SubtitleBox"
                        Header="Subtitle"
                        Text="Preview" />
                    <ToggleSwitch
                        x:Name="BackButtonToggle"
                        Header="IsBackButtonVisible"
                        IsOn="False" />
                    <ToggleSwitch
                        x:Name="PaneToggle"
                        Header="IsPaneToggleButtonVisible"
                        IsOn="False" />
                </StackPanel>
            </controls:ControlExample.Options>
            <controls:ControlExample.Xaml>
                <x:String xml:space="preserve">
&lt;TitleBar
    Title="$(Title)"
    Subtitle="$(Subtitle)"
    IsBackButtonVisible="$(BackButtonVisibility)"
    IsPaneToggleButtonVisible="$(PaneToggleVisibility)"&gt;
    &lt;TitleBar.IconSource&gt;
        &lt;ImageIconSource ImageSource="/Assets/Tiles/GalleryIcon.ico" /&gt;
    &lt;/TitleBar.IconSource&gt;
    &lt;TitleBar.Content&gt;
        &lt;AutoSuggestBox
            Width="360"
            VerticalAlignment="Center"
            PlaceholderText="Search.."
            QueryIcon="Find" /&gt;
    &lt;/TitleBar.Content&gt;
    &lt;TitleBar.RightHeader&gt;
        &lt;PersonPicture
            Width="30"
            Height="30"
            Initials="JD" /&gt;
    &lt;/TitleBar.RightHeader&gt;
&lt;/TitleBar&gt;
                </x:String>
            </controls:ControlExample.Xaml>
            <controls:ControlExample.Substitutions>
                <controls:ControlExampleSubstitution Key="Title" Value="{x:Bind TitleBox.Text, Mode=OneWay}" />
                <controls:ControlExampleSubstitution Key="Subtitle" Value="{x:Bind SubtitleBox.Text, Mode=OneWay}" />
                <controls:ControlExampleSubstitution Key="BackButtonVisibility" Value="{x:Bind BackButtonToggle.IsOn, Mode=OneWay}" />
                <controls:ControlExampleSubstitution Key="PaneToggleVisibility" Value="{x:Bind PaneToggle.IsOn, Mode=OneWay}" />
            </controls:ControlExample.Substitutions>
        </controls:ControlExample>

        <controls:ControlExample HorizontalContentAlignment="Stretch" HeaderText="End to end TitleBar sample">
            <controls:ControlExample.Example>
                <StackPanel
                    MaxWidth="560"
                    Orientation="Vertical"
                    Spacing="12">
                    <TextBlock
                        HorizontalAlignment="Center"
                        Text="Click the button below to see an end to end sample of a TitleBar in an new window, binding some of its properties to the NavigationView and navigation frame."
                        TextAlignment="Center"
                        TextWrapping="WrapWholeWords" />
                    <Button
                        HorizontalAlignment="Center"
                        Click="CreateTitleBarWindowClick"
                        Content="Show sample window"
                        Style="{StaticResource AccentButtonStyle}" />
                </StackPanel>
            </controls:ControlExample.Example>
            <controls:ControlExample.Xaml>
                <x:String xml:space="preserve">
&lt;Grid&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;Auto&quot; /&gt;
        &lt;!--  TitleBar  --&gt;
        &lt;RowDefinition Height=&quot;*&quot; /&gt;
        &lt;!--  NavigationView  --&gt;
    &lt;/Grid.RowDefinitions&gt;

    &lt;TitleBar
        x:Name=&quot;titleBar&quot;
        BackRequested=&quot;TitleBar_BackRequested&quot;
        IsBackButtonVisible=&quot;{x:Bind navFrame.CanGoBack, Mode=OneWay}&quot;
        IsPaneToggleButtonVisible=&quot;True&quot;
        PaneToggleRequested=&quot;TitleBar_PaneToggleRequested&quot; /&gt;

    &lt;NavigationView
        x:Name=&quot;navView&quot;
        Grid.Row=&quot;1&quot;
        IsBackButtonVisible=&quot;Collapsed&quot;
        IsPaneToggleButtonVisible=&quot;False&quot;&gt;
        &lt;NavigationView.MenuItems... /&gt;
        &lt;Frame x:Name=&quot;navFrame&quot; /&gt;
    &lt;/NavigationView&gt;
&lt;/Grid&gt;
                    </x:String>
            </controls:ControlExample.Xaml>
            <controls:ControlExample.CSharp>
                <x:String xml:space="preserve">
  this.ExtendsContentIntoTitleBar = true; // Extend the content into the title bar and hide the default titlebar
  this.SetTitleBar(titleBar); // Set the custom title bar
                </x:String>
            </controls:ControlExample.CSharp>
        </controls:ControlExample>
    </StackPanel>
</Page>